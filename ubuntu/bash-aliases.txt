#!/bin/bash

####################################################################################################
#### author: SlickStack ############################################################################
#### link: https://slickstack.io ###################################################################
#### mirror: http://mirrors.slickstack.io/ubuntu/bash-aliases.txt ##################################
#### path: /var/www/meta/.ss-bash-aliases ##########################################################
#### destination: n/a (not a boilerplate) ##########################################################
#### purpose: useful bash tricks (e.g. aliases and shell prompt) included in .bashrc file ##########
#### module version: Ubuntu 20.04 LTS ##############################################################
#### sourced by: /root/.bashrc, /home/SUDO_USER/.bashrc ############################################
####################################################################################################

## BASH COMMAND ALIASES USING THE [SS] SHORTCUT ARE DIFFERENT THAN WP-CLI BASH COMPLETION ##

EDITOR="/usr/bin/nano"

####################################################################################################
#### Bash Aliases: SlickStack Bash Shortcut Commands Settings ######################################
####################################################################################################

## here we customize the shell prompt for all Ubuntu users (new session may be required) ##
## the prompt will include user@hostname in pink and working directory in purple ##

PS1="\[\e[1;35m\]\u@$(hostname -f)\e[m\]:\[\e[45m\]\w\[\e[m\]$ "

####################################################################################################
#### Bash Aliases: SlickStack Bash Shortcut Commands Settings ######################################
####################################################################################################

# alias sscheck="sudo bash /var/www/ss-check"

## SlickStack aliases (e.g. 'ss check' will run 'sudo bash /var/www/ss-check') ##
# function ss { 
 # sudo bash /var/www/ss-"$@"; 
# }

function ss {
    if [[ $@ == "check" ]]; then
        command sudo bash /var/www/ss-check
    elif [[ $@ == "clean" ]]; then
        command sudo bash /var/www/ss-clean-files
    elif [[ $@ == "clean files" ]]; then
        command sudo bash /var/www/ss-clean-files
    elif [[ $@ == "dos2unix" ]]; then
        command sudo bash /var/www/ss-dos2unix
    elif [[ $@ == "dump" ]]; then
        command sudo bash /var/www/ss-dump-database
    elif [[ $@ == "dump database" ]]; then
        command sudo bash /var/www/ss-dump-database
    elif [[ $@ == "encrypt" ]]; then
        command sudo bash /var/www/ss-encrypt
    elif [[ $@ == "import" ]]; then
        command sudo bash /var/www/ss-import
    elif [[ $@ == "install" ]]; then
        command sudo bash /var/www/ss-install
    elif [[ $@ == "monitor" ]]; then
        command sudo bash /var/www/ss-monitor
    elif [[ $@ == "optimize" ]]; then
        command sudo bash /var/www/ss-optimize-database
    elif [[ $@ == "optimize database" ]]; then
        command sudo bash /var/www/ss-clean-files
    elif [[ $@ == "overview" ]]; then
        command sudo bash /var/www/ss-overview ## repeat
    elif [[ $@ == "perms" ]]; then
        command sudo bash /var/www/ss-perms
    elif [[ $@ == "purge" ]]; then
        command sudo bash /var/www/ss-purge
    elif [[ $@ == "purge nginx" ]]; then
        command sudo bash /var/www/ss-purge-nginx
    elif [[ $@ == "purge opcache" ]]; then
        command sudo bash /var/www/ss-purge-opcache
    elif [[ $@ == "purge redis" ]]; then
        command sudo bash /var/www/ss-purge-redis
    elif [[ $@ == "purge transients" ]]; then
        command sudo bash /var/www/ss-purge-transients
    elif [[ $@ == "purge wordpress transients" ]]; then
        command sudo bash /var/www/ss-purge-transients
    elif [[ $@ == "reboot" ]]; then
        command sudo bash /var/www/ss-reboot
    elif [[ $@ == "remote" ]]; then
        command sudo bash /var/www/ss-remote
    elif [[ $@ == "reset password sftp" ]]; then
        command sudo bash /var/www/ss-reset-password-sftp
    elif [[ $@ == "restart" ]]; then
        command sudo bash /var/www/ss-restart-services
    elif [[ $@ == "restart services" ]]; then
        command sudo bash /var/www/ss-restart-services
    elif [[ $@ == "scan" ]]; then
        command sudo bash /var/www/ss-scan-malware
    elif [[ $@ == "scan malware" ]]; then
        command sudo bash /var/www/ss-scan-malware
    elif [[ $@ == "status" ]]; then
        command sudo bash /var/www/ss-overview ## repeat
    elif [[ $@ == "sync" ]]; then
        command sudo bash /var/www/ss-sync-staging
    elif [[ $@ == "sync staging" ]]; then
        command sudo bash /var/www/ss-sync-staging
    elif [[ $@ == "update" ]]; then
        command sudo bash /var/www/ss-update
    elif [[ $@ == "upgrade" ]]; then
        command sudo bash /var/www/ss-update
    elif [[ $@ == "worker" ]]; then
        command sudo bash /var/www/ss-worker
    fi
}

####################################################################################################
#### Include WP-CLI Bash Completion File (Enables [wp] Bash Command Completion) ####################
####################################################################################################

## set WP-CLI variables ##
WP_CLI_CACHE_DIR="/var/www/cache/.wp-cli"
WP_CLI_CONFIG_PATH="/var/www/meta/wp-cli.yml"
WP_CLI_CUSTOM_SHELL="/bin/bash"
WP_CLI_DISABLE_AUTO_CHECK_UPDATE="true"
WP_CLI_PACKAGES_DIR="/tmp"
# WP_CLI_PHP=""
# WP_CLI_PHP_ARGS=""
# WP_CLI_SSH_PRE_CMD=""
WP_CLI_STRICT_ARGS_MODE="false"

## include WP-CLI aliases ##
source /var/www/meta/.wp-completion

####################################################################################################
#### External References Used By SlickStack To Improve This Script (Thanks, Interwebz) #############
####################################################################################################

## Ref: https://askubuntu.com/questions/915626/setting-permanent-export-editor-to-nano-for-all-future-sessions
## Ref: https://linuxize.com/post/bash-functions/
## Ref: https://askubuntu.com/a/606882/935172
## Ref: https://unix.stackexchange.com/a/247125/353848
## Ref: https://ceaksan.com/tr/wp-cli-config-komutu-ve-islemleri/
## Ref: https://github.com/greenpeace/planet4-docker/blob/master/src/planet-4-151612/wordpress/Dockerfile
## Ref: https://unix.stackexchange.com/questions/129143/what-is-the-purpose-of-bashrc-and-how-does-it-work
## Ref: https://superuser.com/questions/105375/bash-spaces-in-alias-name

## SS_EOF
